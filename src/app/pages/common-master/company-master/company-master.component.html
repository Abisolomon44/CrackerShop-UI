<div class="container-fluid">
  <div class="company-master-container form-container">
    <h2>Company Master</h2>

    <!-- Company Form -->
    <form class="company-form">

      <!-- 3-column fields -->
      <div class="form-grid">
        <div class="form-column">
          <label>Company Name</label>
          <input type="text" class="input-common" [(ngModel)]="company.companyName" name="companyName" required>

          <label>Phone</label>
          <input type="text" class="input-common" [(ngModel)]="company.phone" name="phone">

          <label>Alternate Phone</label>
          <input type="text" class="input-common" [(ngModel)]="company.alternatePhone" name="alternatePhone">

          <label>Email</label>
          <input type="email" class="input-common" [(ngModel)]="company.email" name="email">

          <label>Website</label>
          <input type="text" class="input-common" [(ngModel)]="company.website" name="website">
        </div>

        <div class="form-column">
          <label>Address Line 1</label>
          <input type="text" class="input-common" [(ngModel)]="company.addressLine1" name="addressLine1">

          <label>Address Line 2</label>
          <input type="text" class="input-common" [(ngModel)]="company.addressLine2" name="addressLine2">

          <label>Address Line 3</label>
          <input type="text" class="input-common" [(ngModel)]="company.addressLine3" name="addressLine3">

          <label>Address Line 4</label>
          <input type="text" class="input-common" [(ngModel)]="company.addressLine4" name="addressLine4">

          <label>City</label>
          <input type="text" class="input-common" [(ngModel)]="company.city" name="city">

          <label>State</label>
          <input type="text" class="input-common" [(ngModel)]="company.state" name="state">
        </div>

        <div class="form-column">
          <label>Country</label>
          <input type="text" class="input-common" [(ngModel)]="company.country" name="country">

          <label>Pincode</label>
          <input type="text" class="input-common" [(ngModel)]="company.pincode" name="pincode">

          <label>GST Number</label>
          <input type="text" class="input-common" [(ngModel)]="company.gstNumber" name="gstNumber">

          <label>PAN Number</label>
          <input type="text" class="input-common" [(ngModel)]="company.panNumber" name="panNumber">

          <label>CIN Number</label>
          <input type="text" class="input-common" [(ngModel)]="company.cinNumber" name="cinNumber">

          <label>Bank Name</label>
          <input type="text" class="input-common" [(ngModel)]="company.bankName" name="bankName">
        </div>
      </div>

      <!-- Images & Checkbox -->
      <div class="form-grid">
        <div class="form-column">
          <label>Company Logo</label>
          <input type="file" class="file-common" (change)="onFileSelected($event, 'logo')" accept="image/*">
          <img *ngIf="company.companyLogo" [src]="'data:image/png;base64,' + company.companyLogo" class="preview-image">
        </div>

        <div class="form-column">
          <label>Company Image</label>
          <input type="file" class="file-common" (change)="onFileSelected($event, 'image')" accept="image/*">
          <img *ngIf="company.companyImage" [src]="'data:image/png;base64,' + company.companyImage" class="preview-image">
        </div>

        <div class="form-column checkbox-column">
          <label class="checkbox-common">
            <input type="checkbox" [(ngModel)]="company.isActive" name="isActive"> Is Active
          </label>
        </div>
      </div>

      <!-- Buttons -->
      <div class="form-actions">
        <button type="button" class="btn-common" (click)="saveOrDeleteCompany()">Save / Update</button>
        <button type="button" class="btn-outline" (click)="resetForm()">Reset</button>
      </div>
    </form>

    <!-- Company Table -->
    <table class="table-common">
      <thead>
        <tr>
          <th>Company Name</th>
          <th>Code</th>
          <th>Phone</th>
          <th>Email</th>
          <th>Active</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let c of companies">
          <td>{{ c.companyName }}</td>
          <td>{{ c.companyCode }}</td>
          <td>{{ c.phone }}</td>
          <td>{{ c.email }}</td>
          <td>{{ c.isActive ? 'Yes' : 'No' }}</td>
          <td class="text-center">
            <button (click)="editCompany(c)" title="Edit"><i class="bi bi-pencil-square"></i></button>
            <button (click)="deleteCompany(c)" title="Delete"><i class="bi bi-trash"></i></button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
